openapi: 3.0.1
info:
  title: BreatheIQ Mobile API
  description: API for the BreatheIQ Mobile Application. Query parameters need to
    be url encoded.
  version: 0.6.4
servers:
- url: https://backend.dev-snorefox-wellness.diametos.com/api/v1/mobile/
paths:
  /auth/sign-up:
    post:
      tags:
      - Authentication
      summary: Register a new user
      description: Registers a new user with the given details.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterUserRequest'
      responses:
        '201':
          description: Registered
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegisterUserResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
          description: Email or password is invalid
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
          description: 3rd party service is down
  /auth/sign-in:
    post:
      tags:
      - Authentication
      summary: Login a user
      description: Logs in a user with the given credentials.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: Successfully logged in
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
          description: 3rd party service is down
  /auth/sign-out:
    post:
      tags:
      - Authentication
      summary: Logout the authenticated user
      description: Logs out the authenticated user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
      responses:
        '204':
          description: No content
        '400':
          $ref: '#/components/responses/InvalidRequest'
  /auth/check:
    get:
      tags:
      - Authentication
      summary: Check if the user exists
      description: Check if the user exists with the given email in the BIQ or SIQ
        system. Query parameters such as email need to be url encoded.
      parameters:
      - in: query
        name: email
        schema:
          type: string
          format: email
        required: true
      responses:
        '200':
          description: User exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckUserResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /auth/refresh-tokens:
    post:
      tags:
      - Authentication
      summary: Refresh auth tokens
      description: Refreshes the authentication tokens.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokensRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RefreshTokensResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /auth/request-password-reset:
    post:
      tags:
      - Authentication
      summary: Request password reset
      description: Requests a password reset for the user with the given email.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestPasswordResetRequest'
      responses:
        '204':
          description: Password reset request successful
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /auth/set-new-password:
    patch:
      tags:
      - Authentication
      summary: Set new password
      description: Sets a new password for the user with the given token.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetNewPasswordRequest'
      responses:
        '204':
          description: New password set
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me:
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get complete user details
      description: Gets all the details of the authenticated user.
      responses:
        '200':
          description: User details fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /users/me/consent-preferences:
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get the consent preferences of the user
      description: Gets the consent preferences of the authenticated user.
      responses:
        '200':
          description: User consent preferences fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConsentPreferencesResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Change the consent preferences of the user
      description: Changes the consent preferences of the authenticated user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsentPreferences'
      responses:
        '204':
          description: User consent preferences changed
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/subscription:
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get the subscription of the user
      description: Gets the subscription details of the authenticated user.
      responses:
        '200':
          description: Subscription fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubscriptionResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/timezone:
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Update the timezone of the user
      description: Updates the timezone of the authenticated user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTimezoneRequest'
      responses:
        '204':
          description: Timezone updated
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get the timezone of the user
      description: Gets the timezone of the authenticated user.
      responses:
        '200':
          description: Timezone fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimezoneResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /users/me/device-info:
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Update the device information of the user
      description: Updates the device information of the authenticated user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeviceInfo'
      responses:
        '204':
          description: Device information updated
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get the device information of the user
      description: Gets the device information of the authenticated user.
      responses:
        '200':
          description: Device information fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceInfoResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /users/me/bedtime-reminder:
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Update the bedtime reminder
      description: Updates the bedtime measurement reminder for the authenticated
        user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BedtimeReminder'
      responses:
        '204':
          description: Bedtime reminder updated
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get the bedtime reminder
      description: Gets the bedtime measurement reminder for the authenticated user.
      responses:
        '200':
          description: Bedtime reminder fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BedtimeReminderResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /users/me/personal-health-info:
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Update the personal health information of the user
      description: Updates the personal health information of the authenticated user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePersonalHealthInfoRequest'
      responses:
        '204':
          description: Personal health information updated
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get the personal health information of the user
      description: Gets the personal health information of the authenticated user.
      responses:
        '200':
          description: Personal health information fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PersonalHealthInfoResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /users/me/questionnaire-results:
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Update the questionnaire results of the user
      description: Updates the questionnaire results of the authenticated user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestionnaireResults'
      responses:
        '204':
          description: Questionnaire results updated
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get the questionnaire results of the user
      description: Gets the questionnaire results of the authenticated user.
      responses:
        '200':
          description: Questionnaire results fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestionnaireResultsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /users/me/syncing-requests:
    put:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Request syncing with another user
      description: Requests syncing with another user with the given email.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutSyncingRequest'
      responses:
        '200':
          description: Syncing request sent
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PutSyncingRequestResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get pending or rejected syncing requests of the user
      description: Gets pending or rejected syncing requests of the authenticated
        user.
      parameters:
      - in: header
        name: idtoken
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Pending syncing requests fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetSyncingRequestResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/syncing-requests/{syncRequestId}:
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Reply to a syncing request
      description: Replies to the given syncing request for the authenticated user.
      parameters:
      - in: path
        name: syncRequestId
        required: true
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchSyncingRequest'
      responses:
        '204':
          description: Syncing request replied
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Delete the syncing request
      description: Deletes the syncing request for the authenticated user.
      parameters:
      - in: path
        name: syncRequestId
        required: true
        schema:
          type: string
      responses:
        '204':
          description: Syncing request deleted
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/sync:
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Gets the current account syncing info
      description: Gets the current account syncing info of the authenticated user.
      responses:
        '200':
          description: Account syncing info fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetSyncResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Deletes the current account syncing
      description: Deletes the current account syncing of the authenticated user.
      responses:
        '204':
          description: Account Syncing deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/notification-settings:
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Gets the notification settings
      description: Gets the notification settings of the authenticated user.
      responses:
        '200':
          description: Notification settings fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetNotificationSettingsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Updates the notification settings
      description: Updates the notification settings of the authenticated user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateNotificationSettingsRequest'
      responses:
        '204':
          description: Account Syncing deleted
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/fcm-token:
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Updates the FCM token
      description: Updates the FCM token of the authenticated user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchFCMTokenRequest'
      responses:
        '204':
          description: FCM token updated
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/daily-articles:
    get:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Get the daily articles for the user
      description: Get the daily articles for the authenticated user.
      responses:
        '200':
          description: Daily articles fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DailyArticlesResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /users/me/record-purchase:
    post:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Record a subscription purchase
      description: Records a subscription purchase of the authenticated user.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RecordPurchaseRequest'
      responses:
        '204':
          description: Subscription updated
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/questionnaire-popup-visited:
    patch:
      security:
      - bearerAuth: []
      tags:
      - User
      summary: Update the questionnaire popup visit status of the user
      description: Updates the questionnaire popup visit status of the authenticated
        user.
      responses:
        '204':
          description: Personal health information updated
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/request-email-verification:
    post:
      tags:
      - User
      summary: Request email verification
      description: Requests email verification for the user with the given email.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailVerificationRequest'
      responses:
        '204':
          description: Email verification request successful
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /users/me/verify-email:
    patch:
      tags:
      - User
      summary: Verify email
      description: Verifies the email of the user with the given token.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifyEmailRequest'
      responses:
        '204':
          description: Email verification successful
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /measurements/start:
    post:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Create and start a new measurement for user
      description: Creates and starts a new measurement for the authenticated user
        with the given details.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartMeasurementRequest'
      responses:
        '200':
          description: Measurement created and started
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartMeasurementResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /measurements/create-part/{measurementId}:
    post:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Create a part of the measurement
      description: Creates a part of the measurement for the given measurement ID
        and returns the pre signed URL to upload that part to S3 and the corresponding
        part number.
      parameters:
      - name: measurementId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMeasurementPartRequest'
      responses:
        '200':
          description: Measurement part created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MeasurementPart'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /measurements/status/{measurementId}:
    get:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Get the status of a measurement
      description: Gets the measurement status for the given measurement ID.
      parameters:
      - name: measurementId
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Measurement status retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MeasurementStatusResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /measurements/stop/{measurementId}:
    patch:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Stop a measurement
      description: Stops a measurement for the given measurement ID.
      parameters:
      - name: measurementId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StopMeasurementRequest'
      responses:
        '200':
          description: Measurement stopped successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StopMeasurementResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /measurements/{measurementId}:
    patch:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Patch a new start time for the measurement
      description: Patch a new start time for the given measurement
      parameters:
      - name: measurementId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartMeasurementRequest'
      responses:
        '204':
          description: Measurement patched successfully
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Delete a measurement
      description: Delete the given measurement
      parameters:
      - name: measurementId
        in: path
        required: true
        schema:
          type: string
      responses:
        '204':
          description: Measurement deleted successfully
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /measurements/synced-measurement-request:
    post:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Create a new synced measurement request
      description: Creates a new synced measurement request for the authenticated
        user.
      responses:
        '201':
          description: Synced Measurement request created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateSyncedMeasurementRequestResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    get:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Get the current synced measurement request for the authenticated user
      description: Get the current synced measurement request for the authenticated
        user.
      responses:
        '200':
          description: Synced Measurement request retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SyncedMeasurementRequestResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /measurements/synced-measurement-request/{syncedMeasurementRequestId}:
    patch:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Accept or reject the given synced measurement request
      description: Accepts or rejects the given synced measurement request for the
        authenticated user.
      parameters:
      - name: syncedMeasurementRequestId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - accepted
              properties:
                accepted:
                  type: boolean
      responses:
        '204':
          description: Synced Measurement request accepted/rejected
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /measurements/overview-state/{syncedMeasurementId}:
    get:
      security:
      - bearerAuth: []
      tags:
      - Measurement
      summary: Get the overview state of the synced measurement
      description: Gets the overview state of the synced measurement for the authenticated
        user.
      parameters:
      - name: syncedMeasurementId
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Synced Measurement overview state retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SyncedMeasurementOverviewStateResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /reports/{measurementId}:
    get:
      security:
      - bearerAuth: []
      tags:
      - Report
      summary: Get the full report for a measurement
      description: Gets the full report for the given measurement ID.
      parameters:
      - name: measurementId
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Report fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FullReportResponse'
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /reports:
    get:
      security:
      - bearerAuth: []
      tags:
      - Report
      summary: Gets all the report overviews
      description: Gets all the report overviews for the authenticated user
      parameters:
      - name: page
        description: Page number of the report overviews listing
        in: query
        schema:
          type: integer
      - name: limit
        description: Number of report overviews per page
        in: query
        schema:
          type: integer
      responses:
        '200':
          description: Report overviews fetched
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/ReportOverview'
                  limit:
                    type: integer
                  page:
                    type: integer
                  totalPages:
                    type: integer
                  totalResults:
                    type: integer
        '400':
          $ref: '#/components/responses/InvalidRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  responses:
    Error:
      description: A generic error response
      content:
        application/json:
          schema:
            type: object
            properties:
              type:
                type: string
                description: Type of the error
                examples:
                - SERVER_ERROR
              statusCode:
                type: integer
                description: HTTP status code of the error
                examples:
                - 500
              description:
                type: string
                description: Description of the error
                examples:
                - Internal server error occurred
    InvalidRequest:
      description: Invalid request error response
      content:
        application/json:
          schema:
            type: object
            properties:
              type:
                type: string
                description: Type of the error
                default: INVALID_REQUEST
              statusCode:
                type: integer
                description: HTTP status code of the error
                default: 400
              description:
                type: string
                description: Description of the error
                default: Invalid request body or parameters
    Unauthorized:
      description: Unauthorized error response
      content:
        application/json:
          schema:
            type: object
            properties:
              type:
                type: string
                description: Type of the error
                default: UNAUTHORIZED
              statusCode:
                type: integer
                description: HTTP status code of the error
                default: 401
              description:
                type: string
                description: Description of the error
                default: Unauthorized access
    Forbidden:
      description: Forbidden error response
      content:
        application/json:
          schema:
            type: object
            properties:
              type:
                type: string
                description: Type of the error
                default: FORBIDDEN
              statusCode:
                type: integer
                description: HTTP status code of the error
                default: 403
              description:
                type: string
                description: Description of the error
                default: Forbidden access
    NotFound:
      description: Not found error response
      content:
        application/json:
          schema:
            type: object
            properties:
              type:
                type: string
                description: Type of the error
                default: NOT_FOUND
              statusCode:
                type: integer
                description: HTTP status code of the error
                default: 404
              description:
                type: string
                description: Description of the error
                default: Resource not found
    UnprocessableEntity:
      description: Unprocessable entity error response
      content:
        application/json:
          schema:
            type: object
            properties:
              type:
                type: string
                description: Type of the error
                default: UNPROCESSABLE_ENTITY
              statusCode:
                type: integer
                description: HTTP status code of the error
                default: 422
              description:
                type: string
                description: Description of the error
                default: Unprocessable entity
    InternalServerError:
      description: Internal server error response
      content:
        application/json:
          schema:
            type: object
            properties:
              type:
                type: string
                description: Type of the error
                default: INTERNAL_SERVER_ERROR
              statusCode:
                type: integer
                description: HTTP status code of the error
                default: 500
              description:
                type: string
                description: Description of the error
                default: Internal server error occurred
    ServiceUnavailable:
      description: Service unavailable error response
      content:
        application/json:
          schema:
            type: object
            properties:
              type:
                type: string
                description: Type of the error
                default: SERVICE_UNAVAILABLE
              statusCode:
                type: integer
                description: HTTP status code of the error
                default: 503
              description:
                type: string
                description: Description of the error
                default: Service is temporarily unavailable
  schemas:
    User:
      type: object
      properties:
        _id:
          type: string
        id:
          type: string
        sub:
          type: string
        isEmailVerified:
          type: boolean
        dateOfAccountCreation:
          type: string
          format: date-time
        fcmToken:
          type: object
          required:
          - token
          - updatedAt
          properties:
            token:
              type: string
            updatedAt:
              type: string
              format: date-time
        timezone:
          type: string
        isQuestionnairePopupVisited:
          type: boolean
        consentPreferences:
          $ref: '#/components/schemas/ConsentPreferences'
        personalHealthInfo:
          $ref: '#/components/schemas/PersonalHealthInfo'
        questionnaireResults:
          $ref: '#/components/schemas/QuestionnaireResults'
        bedtimeReminder:
          $ref: '#/components/schemas/BedtimeReminder'
        subscription:
          $ref: '#/components/schemas/Subscription'
        partnerSync:
          $ref: '#/components/schemas/AccountSyncingInfo'
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfo'
        notificationSettings:
          $ref: '#/components/schemas/NotificationSettings'
    ConsentPreferences:
      type: object
      properties:
        acceptedTerms:
          type: boolean
        acceptedDataDonation:
          type: boolean
        acceptedTermsVersion:
          type: number
        privacyPolicyVersion:
          type: number
    ConsentPreferencesResponse:
      type: object
      required:
      - id
      - consentPreferences
      properties:
        id:
          type: string
        consentPreferences:
          $ref: '#/components/schemas/ConsentPreferences'
    RegisterUserRequest:
      type: object
      required:
      - email
      - password
      properties:
        email:
          type: string
          format: email
          description: Must be uBIQue
        password:
          type: string
          format: password
          minLength: 8
          description: At least one number, one capital letter and one special character
      example:
        email: user@example.com
        password: Password#123
    RegisterUserResponse:
      type: object
      required:
      - id
      properties:
        id:
          type: string
          description: ID of the newly registered user
    LoginRequest:
      type: object
      required:
      - email
      - password
      properties:
        email:
          type: string
          format: email
        password:
          type: string
          format: password
        fcmToken:
          type: string
      example:
        email: user@example.com
        password: Password#123
        fcmToken: A1B2C3D
    LoginResponse:
      type: object
      required:
      - accessToken
      - idToken
      - refreshToken
      properties:
        accessToken:
          type: string
        idToken:
          type: string
        refreshToken:
          type: string
    LogoutRequest:
      type: object
      required: []
      properties: {}
      headers:
        idtoken:
          type: string
        accesstoken:
          type: string
    CheckEmailRequest:
      type: object
      required:
      - email
      properties:
        email:
          type: string
          format: email
    RefreshTokensRequest:
      type: object
      required:
      - refreshToken
      properties:
        refreshToken:
          type: string
    RefreshTokensResponse:
      type: object
      required:
      - accessToken
      - idToken
      properties:
        accessToken:
          type: string
        idToken:
          type: string
    CheckUserResponse:
      type: object
      required:
      - user
      properties:
        user:
          type: object
          required:
          - existsInBreatheIQ
          - existsInHypersomniaIQ
          - isInvited
          properties:
            existsInBreatheIQ:
              type: boolean
            existsInHypersomniaIQ:
              type: boolean
            isInvited:
              type: boolean
    ChangePasswordRequest:
      type: object
      required:
      - oldPassword
      - newPassword
      - idToken
      properties:
        oldPassword:
          type: string
          format: password
        newPassword:
          type: string
          format: password
        idToken:
          type: string
    RequestPasswordResetRequest:
      type: object
      required:
      - email
      properties:
        email:
          type: string
          format: email
    SetNewPasswordRequest:
      type: object
      required:
      - password
      - requestId
      properties:
        password:
          type: string
          format: password
        requestId:
          type: string
    Subscription:
      type: object
      required:
      - subscriptionType
      properties:
        subscriptionType:
          type: string
          enum:
          - FREE_DIGITAL
          - PLUS_DIGITAL
          - FREE_DIGITAL_SMART_SLEEPER
          - PLUS_DIGITAL_SMART_SLEEPER
        subscriptionExpiryDate:
          oneOf:
          - type: 'null'
          - type: string
            format: date-time
        resourceVersion:
          type: integer
          format: int64
        updatedAt:
          type: string
          format: date-time
        dateOfFirstTimeUpgrade:
          type: string
          format: date-time
    SubscriptionResponse:
      type: object
      required:
      - id
      - subscription
      properties:
        id:
          type: string
        subscription:
          $ref: '#/components/schemas/Subscription'
    PutSyncingRequest:
      type: object
      required:
      - email
      properties: null
      email:
        type: string
        format: email
      headers: null
      idtoken:
        type: string
    RecordPurchaseRequest:
      type: object
      required:
      - receipt
      - operatingSystem
      properties:
        receipt:
          type: string
        operatingSystem:
          type: string
          enum:
          - IOS
          - ANDROID
        originalTransactionId:
          type: string
        product:
          type: object
          properties:
            id:
              type: string
            price:
              type: number
            currencyCode:
              type: string
    PutSyncingRequestResponse:
      type: object
      required:
      - id
      - status
      properties:
        id:
          type: string
          description: ID of the syncing request
        status:
          type: string
          enum:
          - SENT
          - PENDING
    GetSyncingRequestResponse:
      type: array
      items:
        type: object
        required:
        - id
        - status
        properties:
          id:
            type: string
            description: ID of the syncing request
          status:
            type: string
            enum:
            - SENT
            - RECEIVED
            - REJECTED
          email:
            type: string
            format: email
          name:
            type: string
    PatchSyncingRequest:
      type: object
      required:
      - accepted
      properties:
        accepted:
          type: boolean
    AccountSyncInfo:
      type: object
      required:
      - partnerUserId
      - syncRequestId
      properties:
        partnerUserId:
          type: string
        syncRequestId:
          type: string
    GetSyncResponse:
      type: object
      required:
      - status
      properties:
        id:
          type: string
          description: ID of the syncing request that was accepted for this account
            sync
        status:
          type: string
          enum:
          - ACCEPTED
          - NOT_SYNCED
        email:
          type: string
          format: email
          description: Email of the synced partner account
        name:
          type: string
          example: John Doe
        syncedMeasurementRequestInfo:
          $ref: '#/components/schemas/SyncedMeasurementRequestResponse'
    UpdateTimezoneRequest:
      type: object
      required:
      - timezone
      properties:
        timezone:
          type: string
    TimezoneResponse:
      type: object
      required:
      - id
      - timezone
      properties:
        id:
          type: string
        timezone:
          type: string
    BedtimeReminder:
      type: array
      items:
        type: object
        required:
        - hour
        - minute
        - weekDay
        properties:
          hour:
            type: integer
          minute:
            type: integer
          weekDay:
            type: string
            enum:
            - MONDAY
            - TUESDAY
            - WEDNESDAY
            - THURSDAY
            - FRIDAY
            - SATURDAY
            - SUNDAY
    BedtimeReminderResponse:
      type: object
      required:
      - id
      - bedtimeReminder
      properties:
        id:
          type: string
        bedtimeReminder:
          $ref: '#/components/schemas/BedtimeReminder'
    PersonalHealthInfo:
      type: object
      properties:
        phoneNumber:
          type: string
          minLength: 1
        firstName:
          type: string
          minLength: 1
        gender:
          type: string
          enum:
          - MALE
          - FEMALE
          - NON_BINARY
          - PREFER_NOT_TO_SAY
          minLength: 1
        height:
          type: number
          format: float
          minimum: 24
          maximum: 96
        weight:
          type: number
          format: float
          minimum: 40
          maximum: 350
        birthYear:
          type: integer
          minimum: 1900
          maximum: 2050
    UpdatePersonalHealthInfoRequest:
      type: object
      required:
      - personalHealthInfo
      properties: null
      personalHealthInfo:
        $ref: '#/components/schemas/PersonalHealthInfo'
      headers: null
      idtoken:
        type: string
    PersonalHealthInfoResponse:
      type: object
      required:
      - id
      - personalHealthInfo
      properties:
        id:
          type: string
        personalHealthInfo:
          $ref: '#/components/schemas/PersonalHealthInfo'
    QuestionnaireResults:
      type: object
      required:
      - witnessedDaytimeSleepiness
      - witnessedSnoring
      - witnessedApnea
      properties:
        witnessedDaytimeSleepiness:
          type: string
          enum:
          - 'YES'
          - 'NO'
        witnessedSnoring:
          type: string
          enum:
          - 'YES'
          - 'NO'
        apneaDiagnosed:
          type: string
          enum:
          - 'YES'
          - 'NO'
        apneaObserved:
          type: string
          enum:
          - 'YES'
          - 'NO'
          - DONT_KNOW
        apneaTreatment:
          type: array
          items:
            type: string
            enum:
            - CPAP
            - DENTAL_APPLIANCE
            - SURGICAL_PROCEDURE
            - POSITIONAL_CHANGE
            - NO_OTHER
    QuestionnaireResultsResponse:
      type: object
      required:
      - id
      - questionnaireResults
      properties:
        id:
          type: string
        questionnaireResults:
          $ref: '#/components/schemas/QuestionnaireResults'
    NotificationSettings:
      type: object
      required:
      - isPromotionalNotificationsEnabled
      - isResultAndReminderNotificationsEnabled
      - isSyncedMeasurementsNotificationsEnabled
      properties:
        isPromotionalNotificationsEnabled:
          type: boolean
        isResultAndReminderNotificationsEnabled:
          type: boolean
        isSyncedMeasurementsNotificationsEnabled:
          type: boolean
    UpdateNotificationSettingsRequest:
      type: object
      properties:
        isPromotionalNotificationsEnabled:
          type: boolean
        isResultAndReminderNotificationsEnabled:
          type: boolean
        isSyncedMeasurementsNotificationsEnabled:
          type: boolean
    GetNotificationSettingsResponse:
      type: object
      required:
      - id
      - notificationSettings
      properties:
        id:
          type: string
        notificationSettings:
          $ref: '#/components/schemas/NotificationSettings'
    StartMeasurementRequest:
      type: object
      required:
      - startTime
      properties:
        startTime:
          type: string
          format: date-time
        syncedMeasurementRequestId:
          type: string
          description: ID of the synced measurement request in case of a synced measurement
    StartMeasurementResponse:
      type: object
      required:
      - measurementId
      - preSignedUrlDetails
      properties:
        measurementId:
          type: string
          example: 664b1522d7df88fb07da71fd
        preSignedUrlDetails:
          type: object
          required:
          - url
          - fields
          properties:
            url:
              type: string
              format: uri
              example: https://example.com/
            fields:
              type: object
              required:
              - bucket
              - X-Amz-Algorithm
              - X-Amz-Credential
              - X-Amz-Date
              - key
              - Policy
              - X-Amz-Signature
              properties:
                bucket:
                  type: string
                  example: example-bucket
                X-Amz-Algorithm:
                  type: string
                  example: AWS4-HMAC-SHA256
                X-Amz-Credential:
                  type: string
                  example: EXAMPLECREDENTIAL/20250114/us-east-1/s3/aws4_request
                X-Amz-Date:
                  type: string
                  example: 20250114T133628Z
                key:
                  type: string
                  example: example-key
                Policy:
                  type: string
                  example: example-policy
                X-Amz-Signature:
                  type: string
                  example: example-signature
    CreateMeasurementPartRequest:
      type: object
      required:
      - partNumber
      properties:
        partNumber:
          type: integer
    StopMeasurementRequest:
      type: object
      required:
      - stopTime
      properties:
        stopTime:
          type: string
          format: date-time
        stopReason:
          type: string
          enum:
          - none
          - user
          - io
          - length
          - system
          - unknown
          - engine
          - buffer
          - prepare
          - format
          - converter
          - conversion
          - delete
          - crash
          - destroyed
          - bluetooth
          - memory
          - logout
    StopMeasurementResponse:
      type: object
      properties:
        overviewState:
          $ref: '#/components/schemas/SyncedMeasurementOverviewState'
          description: This field is only returned for synced measurements
    MeasurementStatus:
      type: string
      enum:
      - SYNCED_REQUESTED
      - SYNCED_PENDING
      - ACCEPTED
      - REJECTED
      - ONGOING
      - ANALYZING
      - ANALYZED
    MeasurementStatusResponse:
      type: object
      required:
      - id
      - status
      properties:
        id:
          type: string
        status:
          $ref: '#/components/schemas/MeasurementStatus'
    MeasurementPart:
      type: object
      required:
      - partNumber
      - preSignedUrl
      properties:
        partNumber:
          type: integer
        preSignedUrl:
          type: string
          format: uri
    DeviceInfo:
      type: object
      required:
      - deviceId
      - model
      - manufacturer
      properties:
        deviceId:
          type: string
        model:
          type: string
        manufacturer:
          type: string
    DeviceInfoResponse:
      type: object
      required:
      - id
      - deviceInfo
      properties:
        id:
          type: string
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfo'
    AnalysisRiskLevel:
      type: string
      enum:
      - HIGH
      - LOW
      - INVALID
    SummaryBlock:
      type: object
      required:
      - type
      - measuredTime
      - snoringTime
      - snoringRate
      properties:
        type:
          type: string
          enum:
          - SUMMARY
        measuredTime:
          type: integer
          description: The total time of the measurement in minutes
        snoringTime:
          oneOf:
          - type: 'null'
          - type: integer
          description: The total time of snoring in minutes
        snoringRate:
          oneOf:
          - type: 'null'
          - type: number
            format: float
        text:
          type: string
    AnalysisRiskBlock:
      type: object
      required:
      - type
      - riskLevelValue
      - text
      properties:
        type:
          type: string
          enum:
          - ANALYSIS_RISK
        riskLevelValue:
          $ref: '#/components/schemas/AnalysisRiskLevel'
        text:
          type: string
    ChartValue:
      type: integer
      format: int32
    SnoringChart:
      type: object
      required:
      - xInterval
      - chartValues
      properties:
        xInterval:
          type: integer
          format: int32
          description: Interval in seconds between two consecutive points for the
            x-axis
          default: 60
        chartValues:
          type: array
          items:
            $ref: '#/components/schemas/ChartValue'
          description: Magnitude of loudness of snoring at each point
        noiseIndices:
          type: array
          items:
            type: integer
            format: int32
          description: Indices of the values that are noise in the `chartValues` array
        loudestSnippets:
          type: array
          items:
            type: integer
            format: int32
          description: Snippet or part number that is loudest corresponding to a value
            in `chartValues` array. Algorithm marks these values as loudest snore
            per xInterval. -1 for a non-snoring for a corresponding value in `chartValues`
            array.
    ApneaChart:
      type: object
      required:
      - xInterval
      - chartValues
      properties:
        xInterval:
          type: integer
          format: int32
          description: Interval in seconds between two consecutive points for the
            x-axis
          default: 60
        chartValues:
          type: array
          items:
            $ref: '#/components/schemas/ChartValue'
    ApneaChartBlock:
      type: object
      required:
      - type
      - chart
      - text
      properties:
        type:
          type: string
          enum:
          - APNEA_CHART
        chart:
          $ref: '#/components/schemas/ApneaChart'
        text:
          type: string
        emptyChartText:
          type: string
    SnoringChartBlock:
      type: object
      required:
      - type
      - chart
      - text
      properties:
        type:
          type: string
          enum:
          - SNORING_CHART
        chart:
          $ref: '#/components/schemas/SnoringChart'
        text:
          type: string
        emptyChartText:
          type: string
    note:
      type: object
      properties:
        type:
          type: string
          enum:
          - NOTES
        title:
          type: string
        text:
          type: string
    FullReport:
      type: object
      required:
      - isInvalid
      - processedStartTime
      - processedEndTime
      - reportBlocks
      properties:
        isInvalid:
          type: boolean
        processedStartTime:
          type: string
          format: date-time
        processedEndTime:
          type: string
          format: date-time
        reportBlocks:
          type: array
          items:
            anyOf:
            - $ref: '#/components/schemas/SummaryBlock'
            - $ref: '#/components/schemas/AnalysisRiskBlock'
            - $ref: '#/components/schemas/ApneaChartBlock'
            - $ref: '#/components/schemas/SnoringChartBlock'
            - $ref: '#/components/schemas/note'
    FullReportResponse:
      type: object
      required:
      - id
      - status
      - originalStartTime
      - originalEndTime
      - report
      properties:
        id:
          type: string
        status:
          $ref: '#/components/schemas/MeasurementStatus'
        originalStartTime:
          type: string
          format: date-time
        originalEndTime:
          type: string
          format: date-time
        isPremium:
          type: boolean
        syncedMeasurementOverviewState:
          $ref: '#/components/schemas/SyncedMeasurementOverviewState'
          description: This field is only returned for synced measurements
        report:
          oneOf:
          - type: 'null'
            description: Not available when the measurement is not processed/analyzed
              yet or if the analysis failed
          - $ref: '#/components/schemas/FullReport'
    ReportOverview:
      type: object
      required:
      - measurementId
      - isSyncedMeasurement
      - measurementStatus
      - originalStartTime
      - originalEndTime
      - processedStartTime
      - processedEndTime
      - analysisRiskLevel
      properties:
        measurementId:
          type: string
        isSyncedMeasurement:
          type: boolean
        measurementStatus:
          type: string
          enum:
          - ANALYZING
          - ANALYZED
        originalStartTime:
          type: string
          format: date-time
        originalEndTime:
          type: string
          format: date-time
        isPremium:
          type: boolean
        processedStartTime:
          oneOf:
          - type: 'null'
            description: Not available when the measurement is not processed/analyzed
              yet or if the analysis failed
          - type: string
            format: date-time
        processedEndTime:
          oneOf:
          - type: 'null'
            description: Not available when the measurement is not processed/analyzed
              yet or if the analysis failed
          - type: string
            format: date-time
        analysisRiskLevel:
          oneOf:
          - type: 'null'
            description: Not available when the measurement is not processed/analyzed
              yet or if the analysis failed
          - type: string
            enum:
            - HIGH
            - LOW
            - VALID
            - INVALID
            description: The risk level of the user for sleep apnea. `INVALID` when
              the algorithm marks it as invalid. `VALID` when the algorithm marks
              it as valid and the user has a free subscription. When the algorithm
              marks it as valid and user has a paid subscription, the risk level is
              either `HIGH` or `LOW`.
    CreateSyncedMeasurementRequestResponse:
      type: object
      required:
      - id
      properties:
        id:
          type: string
    SyncedMeasurementRequestResponse:
      type: object
      required:
      - id
      - partnerName
      - status
      - isInvitee
      - isExpired
      properties:
        id:
          type: string
        status:
          type: string
          enum:
          - NOT_RESPONDED
          - PENDING
          - ACCEPTED
          - REJECTED
        partnerName:
          type: string
        isInvitee:
          type: boolean
        isExpired:
          type: boolean
    SyncedMeasurementOverviewState:
      type: string
      enum:
      - INVITEE_DID_NOT_RESPOND
      - PARTNER_DID_NOT_START_MEASUREMENT
      - PARTNER_CANCELLED
      - INVITEE_REJECTED
      - WAITING_FOR_PARTNER_TO_FINISH
      - PARTNER_FINISHED
      - BOTH_FINISHED_ANALYZING_NOW
    SyncedMeasurementOverviewStateResponse:
      type: object
      required:
      - overviewState
      properties:
        overviewState:
          oneOf:
          - type: 'null'
            description: Not available when none of the users have either cancelled
              or finished the measurement.
          - $ref: '#/components/schemas/SyncedMeasurementOverviewState'
    PatchFCMTokenRequest:
      type: object
      required:
      - fcmToken
      properties:
        fcmToken:
          type: string
    DailyArticlesResponse:
      type: object
      required:
      - articles
      - components
      - processing
      - report
      - discover
      properties:
        articles:
          type: array
          items:
            $ref: '#/components/schemas/Article'
        components:
          type: array
          items:
            $ref: '#/components/schemas/Component'
        processing:
          type: array
          items:
            type: object
            required:
            - type
            - id
            properties:
              type:
                type: string
              id:
                type: string
        report:
          type: array
          items:
            type: object
            required:
            - type
            - id
            properties:
              type:
                type: string
              id:
                type: string
        discover:
          type: array
          items:
            type: object
            required:
            - type
            - id
            properties:
              type:
                type: string
              id:
                type: string
    Component:
      type: object
      required:
      - id
      - type
      - image
      - blurhash
      - content
      - cta
      properties:
        id:
          type: string
          example: sn_smart_bed
        type:
          type: string
          enum:
          - sso
        image:
          type: string
          format: uri
        blurhash:
          type: string
        title:
          type: string
        content:
          type: string
        cta:
          type: string
        disclaimer:
          type: string
    Article:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        summary:
          type: string
        image:
          type: string
        blurhash:
          type: string
        condition:
          $ref: '#/components/schemas/Condition'
        blocks:
          type: array
          items:
            $ref: '#/components/schemas/Block'
      required:
      - id
      - title
      - summary
      - image
      - blurhash
      - blocks
    Condition:
      type: array
      items:
        allOf:
        - type: string
        - type: boolean
      minItems: 2
      maxItems: 2
    Block:
      type: object
      oneOf:
      - $ref: '#/components/schemas/TextBlock'
      - $ref: '#/components/schemas/ButtonBlock'
    TextBlock:
      type: object
      properties:
        type:
          type: string
          enum:
          - text
        content:
          type: string
        condition:
          $ref: '#/components/schemas/Condition'
      required:
      - type
      - content
    ButtonBlock:
      type: object
      properties:
        type:
          type: string
          enum:
          - button
        label:
          type: string
        action:
          type: string
        condition:
          $ref: '#/components/schemas/Condition'
      required:
      - type
      - label
      - action
    EmailVerificationRequest:
      type: object
      required:
      - email
      properties:
        email:
          type: string
          format: email
    VerifyEmailRequest:
      type: object
      required:
      - requestId
      properties:
        requestId:
          type: string
tags:
- name: Authentication
  description: Authentication related and un-authenticated routes
- name: User
  description: User management
- name: Measurement
  description: Measurements management
- name: Report
  description: Reports management
